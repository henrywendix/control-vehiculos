<form [formGroup]="vehiculoForm">
  <div class="p-text-secondary block mb-8">
    Ingrese los datos del vehículo.
  </div>

  <div class="flex items-center gap-4 mb-4">
    <label for="consignatario" class="font-semibold w-24">Consignatario</label>
    <input pInputText formControlName="consignatario" class="flex-auto" />
  </div>

  <div class="flex items-center gap-4 mb-4">
    <label for="nit" class="font-semibold w-24">NIT</label>
    <input pInputText formControlName="nit" class="flex-auto" />
    <small *ngIf="vehiculoForm.get('nit')!.hasError('pattern')">
      Formato inválido: debe ser 8 dígitos o 7 dígitos-1
    </small>
  </div>

  <div class="flex items-center gap-4 mb-4">
    <label for="fecha" class="font-semibold w-24">Fecha</label>
    <input pInputText type="date" id="fecha" formControlName="fecha" class="flex-auto" autocomplete="off"/>
    <div class="p-error text-sm mt-1" *ngIf="vehiculoForm.get('fecha')?.touched">
      <small *ngIf="vehiculoForm.get('fecha')?.hasError('required')">
        Fecha es requerida
      </small>
      <small *ngIf="vehiculoForm.get('fecha')?.hasError('fechaFutura')">
        La fecha no puede ser futura
      </small>
    </div>
  </div>

  <div class="flex items-center gap-4 mb-8">
    <label for="vin" class="font-semibold w-24">VIN</label>
    <input pInputText id="vin" formControlName="vin" class="flex-auto" autocomplete="off" />
    <div class="p-error text-sm mt-1" *ngIf="vehiculoForm.get('vin')?.touched">
      <small *ngIf="vehiculoForm.get('vin')?.hasError('required')">
        VIN es requerido
      </small>
      <small *ngIf="vehiculoForm.get('vin')?.hasError('pattern')">
        Formato de VIN inválido (17 caracteres alfanumérico excluyendo I, O, Q)
      </small>
    </div>
  </div>

  <div class="flex items-center gap-4 mb-8">
    <label for="año" class="font-semibold w-24">Año</label>
    <p-calendar formControlName="anio" view="year" dateFormat="yy" [yearNavigator]="true" yearRange="1990:2050" inputId="año" class="flex-auto" />
    <div class="p-error text-sm mt-1"
    *ngIf="vehiculoForm.get('anio')?.touched && vehiculoForm.get('anio')?.hasError('anioInvalido')">
      <small>El año está fuera del rango permitido (1990–2050)</small>
</div>
  </div>
  <div class="flex items-center gap-4 mb-8">
    <label for="marca" class="font-semibold w-24">Marca</label>
    <input pInputText formControlName="marca" class="flex-auto" />
  </div>
  <div class="flex items-center gap-4 mb-8">
    <label for="estilo" class="font-semibold w-24">Estilo</label>
    <input pInputText formControlName="estilo" class="flex-auto" />
  </div>
  <div class="flex items-center gap-4 mb-8">
    <label for="color" class="font-semibold w-24">Color</label>
    <input pInputText formControlName="color" class="flex-auto"/>
  </div>
  <div class="flex items-center gap-4 mb-4">
    <label class="font-semibold w-24">Realizar rescate</label>
    <p-checkbox formControlName="realizarRescate" [binary]="true"></p-checkbox>
  </div>
  <div class="flex items-center gap-4 mb-8">
    <label for="fechares" class="font-semibold w-24">Fecha de rescate</label>
    <input pInputText type="date" formControlName="fechares" class="flex-auto" />
  </div>

  <div class="flex items-center gap-4 mb-8">
    <label for="abandono" class="font-semibold w-24">Abandono</label>
    <input pInputText formControlName="abandono"  class="flex-auto" />
  </div>

  <div class="flex items-center gap-4 mb-8">
    <label for="despacho" class="font-semibold w-24">Despacho</label>
    <input pInputText formControlName="despacho" class="flex-auto" />
  </div>

  <div class="flex justify-end gap-2">
    <p-button label="Cancelar" severity="danger" (click)="onCancel()"></p-button>
    <p-button label="{{ modo === 'crear' ? 'Guardar' : 'Actualizar' }}" (click)="confirmSave()"></p-button>
  </div>


</form>
