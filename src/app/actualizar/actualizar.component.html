<div class="p-4">
  <h2>Editar Veh√≠culos</h2>

  <p-table
    [value]="vehiculos"
    editMode="row"
    dataKey="vin"
    [tableStyle]="{ 'min-width': '75rem' }"
  >
    <ng-template pTemplate="header">
      <tr>
        <th>VIN</th>
        <th>Consignatario</th>
        <th>NIT</th>
        <th>Fecha</th>
        <th>Acciones</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-vehiculo let-editing="editing" let-index="rowIndex">
      <tr [pEditableRow]="vehiculo">

        <td>
          <p-cellEditor>
            <ng-template pTemplate="input">
              <input pInputText [(ngModel)]="vehiculo.vin" required>
            </ng-template>
            <ng-template pTemplate="output">
              {{ vehiculo.vin }}
            </ng-template>
          </p-cellEditor>
        </td>
        <td>
          <p-cellEditor>
            <ng-template pTemplate="input">
              <input pInputText [(ngModel)]="vehiculo.consignatario" required>
            </ng-template>
            <ng-template pTemplate="output">
              {{ vehiculo.consignatario }}
            </ng-template>
          </p-cellEditor>
        </td>
        <td>
          <p-cellEditor>
            <ng-template pTemplate="input">
              <input pInputText [(ngModel)]="vehiculo.nit">
            </ng-template>
            <ng-template pTemplate="output">
              {{ vehiculo.nit }}
            </ng-template>
          </p-cellEditor>
        </td>
<td>
  <p-cellEditor>
    <ng-template pTemplate="input">
      <input pInputText [(ngModel)]="vehiculo.marca">
    </ng-template>
    <ng-template pTemplate="output">
      {{ vehiculo.marca }}
    </ng-template>
  </p-cellEditor>
</td>
<td>
  <p-cellEditor>
    <ng-template pTemplate="input">
      <input pInputText [(ngModel)]="vehiculo.estilo">
    </ng-template>
    <ng-template pTemplate="output">
      {{ vehiculo.estilo }}
    </ng-template>
  </p-cellEditor>
</td>
<td>
  <p-cellEditor>
    <ng-template pTemplate="input">
      <input pInputText [(ngModel)]="vehiculo.color">
    </ng-template>
    <ng-template pTemplate="output">
      {{ vehiculo.color }}
    </ng-template>
  </p-cellEditor>
</td>
<td>
  <p-cellEditor>
    <ng-template pTemplate="input">
      <input pInputText type="number" [(ngModel)]="vehiculo.abandono">
    </ng-template>
    <ng-template pTemplate="output">
      {{ vehiculo.abandono }}
    </ng-template>
  </p-cellEditor>
</td>
<td>
  <p-cellEditor>
    <ng-template pTemplate="input">
      <input pInputText [(ngModel)]="vehiculo.despacho">
    </ng-template>
    <ng-template pTemplate="output">
      {{ vehiculo.despacho }}
    </ng-template>
  </p-cellEditor>
</td>
<td>
  <div class="flex gap-2">
    <button
      *ngIf="!editing"
      pButton
      icon="pi pi-pencil"
      class="p-button-rounded p-button-success"
      (click)="onRowEditInit(vehiculo)">
    </button>
    <button
      *ngIf="editing"
      pButton
      icon="pi pi-check"
      class="p-button-rounded p-button-primary"
      (click)="onRowEditSave(vehiculo)">
    </button>
    <button
      *ngIf="editing"
      pButton
      icon="pi pi-times"
      class="p-button-rounded p-button-danger"
      (click)="onRowEditCancel(vehiculo, index)">
    </button>
  </div>
</td>
</tr>
</ng-template>
</p-table>
</div>
